"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},e.apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0});var t=!1;try{t="undefined"!=typeof localStorage}catch(e){}var r="undefined"!=typeof process,i=t&&localStorage.getItem("DEBUG")||r&&process.env.DEBUG?console.log:function(e){return""},s=function(e,t){var r,i=e.lib||[],s=["lib.d.ts","lib.core.d.ts","lib.decorators.d.ts","lib.decorators.legacy.d.ts","lib.dom.asynciterable.d.ts","lib.dom.d.ts","lib.dom.iterable.d.ts","lib.webworker.asynciterable.d.ts","lib.webworker.d.ts","lib.webworker.importscripts.d.ts","lib.webworker.iterable.d.ts","lib.scripthost.d.ts","lib.es5.d.ts","lib.es6.d.ts","lib.es7.d.ts","lib.core.es6.d.ts","lib.core.es7.d.ts","lib.es2015.collection.d.ts","lib.es2015.core.d.ts","lib.es2015.d.ts","lib.es2015.generator.d.ts","lib.es2015.iterable.d.ts","lib.es2015.promise.d.ts","lib.es2015.proxy.d.ts","lib.es2015.reflect.d.ts","lib.es2015.symbol.d.ts","lib.es2015.symbol.wellknown.d.ts","lib.es2016.array.include.d.ts","lib.es2016.d.ts","lib.es2016.full.d.ts","lib.es2016.intl.d.ts","lib.es2017.arraybuffer.d.ts","lib.es2017.d.ts","lib.es2017.date.d.ts","lib.es2017.full.d.ts","lib.es2017.intl.d.ts","lib.es2017.object.d.ts","lib.es2017.sharedmemory.d.ts","lib.es2017.string.d.ts","lib.es2017.typedarrays.d.ts","lib.es2018.asyncgenerator.d.ts","lib.es2018.asynciterable.d.ts","lib.es2018.d.ts","lib.es2018.full.d.ts","lib.es2018.intl.d.ts","lib.es2018.promise.d.ts","lib.es2018.regexp.d.ts","lib.es2019.array.d.ts","lib.es2019.d.ts","lib.es2019.full.d.ts","lib.es2019.intl.d.ts","lib.es2019.object.d.ts","lib.es2019.string.d.ts","lib.es2019.symbol.d.ts","lib.es2020.bigint.d.ts","lib.es2020.d.ts","lib.es2020.date.d.ts","lib.es2020.full.d.ts","lib.es2020.intl.d.ts","lib.es2020.number.d.ts","lib.es2020.promise.d.ts","lib.es2020.sharedmemory.d.ts","lib.es2020.string.d.ts","lib.es2020.symbol.wellknown.d.ts","lib.es2021.d.ts","lib.es2021.full.d.ts","lib.es2021.intl.d.ts","lib.es2021.promise.d.ts","lib.es2021.string.d.ts","lib.es2021.weakref.d.ts","lib.es2022.array.d.ts","lib.es2022.d.ts","lib.es2022.error.d.ts","lib.es2022.full.d.ts","lib.es2022.intl.d.ts","lib.es2022.object.d.ts","lib.es2022.regexp.d.ts","lib.es2022.sharedmemory.d.ts","lib.es2022.string.d.ts","lib.es2023.array.d.ts","lib.es2023.collection.d.ts","lib.es2023.d.ts","lib.es2023.full.d.ts","lib.es2023.intl.d.ts","lib.es2024.arraybuffer.d.ts","lib.es2024.collection.d.ts","lib.es2024.d.ts","lib.es2024.full.d.ts","lib.es2024.object.d.ts","lib.es2024.promise.d.ts","lib.es2024.regexp.d.ts","lib.es2024.sharedmemory.d.ts","lib.es2024.string.d.ts","lib.esnext.array.d.ts","lib.esnext.asynciterable.d.ts","lib.esnext.bigint.d.ts","lib.esnext.collection.d.ts","lib.esnext.d.ts","lib.esnext.decorators.d.ts","lib.esnext.disposable.d.ts","lib.esnext.float16.d.ts","lib.esnext.full.d.ts","lib.esnext.intl.d.ts","lib.esnext.iterator.d.ts","lib.esnext.object.d.ts","lib.esnext.promise.d.ts","lib.esnext.regexp.d.ts","lib.esnext.string.d.ts","lib.esnext.symbol.d.ts","lib.esnext.weakref.d.ts"],n=t.ScriptTarget[e.target||t.ScriptTarget.ES5],l=s.filter((function(e){return e.startsWith("lib."+n.toLowerCase())})),o=s.indexOf(l.pop()),a=i.map((function(e){var t=s.filter((function(t){return t.startsWith("lib."+e.toLowerCase())}));return 0===t.length?0:s.indexOf(t.pop())})),c=((r=a)&&r.length?r.reduce((function(e,t){return t>e?t:e})):void 0)||0,u=Math.max(o,c);return s.slice(0,u+1)},n=function(e,t){var r=f(),i=b();(function e(t){var s=[];return i.readdirSync(t).forEach((function(n){n=r.join(t,n);var l=i.statSync(n);l&&l.isDirectory()?s=s.concat(e(n)):s.push(n)})),s})(t).forEach((function(s){var n="/node_modules/@types"+s.replace(t,""),l=i.readFileSync(s,"utf8");[".ts",".tsx"].includes(r.extname(n))&&e.set(n,l)}))};function l(e){throw new Error("Method '"+e+"' is not implemented.")}function o(e,t){return function(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];var l=t.apply(void 0,s),o="string"==typeof l?l.slice(0,80)+"...":l;return i.apply(void 0,["> "+e].concat(s)),i("< "+o),l}}var a=function(t){return e({},t.getDefaultCompilerOptions(),{jsx:t.JsxEmit.React,strict:!0,esModuleInterop:!0,module:t.ModuleKind.ESNext,suppressOutputPathCheck:!0,skipLibCheck:!0,skipDefaultLibCheck:!0,moduleResolution:t.ModuleResolutionKind.NodeJs})},c=function(e){return e.replace("/","/lib.").toLowerCase()};function u(t,r,i){var s=new Map;return{compilerHost:e({},t,{getCanonicalFileName:function(e){return e},getDefaultLibFileName:function(){return"/"+i.getDefaultLibFileName(r)},getNewLine:function(){return t.newLine},getSourceFile:function(e,n){var l,o;return s.get(e)||(o=i.createSourceFile(e,t.readFile(e),null!=(l=null!=n?n:r.target)?l:a(i).target,!1),s.set(o.fileName,o),o)},useCaseSensitiveFileNames:function(){return t.useCaseSensitiveFileNames}}),updateFile:function(e){var r=s.has(e.fileName);return t.writeFile(e.fileName,e.text),s.set(e.fileName,e),r},deleteFile:function(e){var r=s.has(e.fileName);return s.delete(e.fileName),t.deleteFile(e.fileName),r}}}function d(t,r,i,s,n){var l=[].concat(r),o=u(t,i,s),a=o.compilerHost,c=o.updateFile,d=o.deleteFile,f=new Map,b=0;return{languageServiceHost:e({},a,{getProjectVersion:function(){return b.toString()},getCompilationSettings:function(){return i},getCustomTransformers:function(){return n},getScriptFileNames:function(){return l.slice()},getScriptSnapshot:function(e){var r=t.readFile(e);if(r&&"string"==typeof r)return s.ScriptSnapshot.fromString(r)},getScriptVersion:function(e){return f.get(e)||"0"},writeFile:t.writeFile}),updateFile:function(e){b++,f.set(e.fileName,b.toString()),l.includes(e.fileName)||l.push(e.fileName),c(e)},deleteFile:function(e){b++,f.set(e.fileName,b.toString());var t=l.indexOf(e.fileName);-1!==t&&l.splice(t,1),d(e)}}}var f=function(){return require(String.fromCharCode(112,97,116,104))},b=function(){return require(String.fromCharCode(102,115))};exports.addAllFilesFromFolder=n,exports.addFilesForTypesIntoFolder=function(e){return n(e,"node_modules/@types")},exports.createDefaultMapFromCDN=function(e,t,r,i,n,l,o){var a=l||fetch,c=new Map,u=s(e,i),d="https://playgroundcdn.typescriptlang.org/cdn/"+t+"/typescript/lib/";return(r?function(){var e=o||localStorage;return Object.keys(e).forEach((function(r){r.startsWith("ts-lib-")&&!r.startsWith("ts-lib-"+t)&&e.removeItem(r)})),Promise.all(u.map((function(r){var i,s="ts-lib-"+t+"-"+r,l=e.getItem(s);return l?Promise.resolve((i=l,n?n.decompressFromUTF16(i):i)):a(d+r).then((function(e){return e.text()})).then((function(t){var r;return e.setItem(s,(r=t,n?n.compressToUTF16(r):r)),t})).catch((function(){}))}))).then((function(e){e.forEach((function(e,t){e&&c.set("/"+u[t],e)}))}))}:function(){return Promise.all(u.map((function(e){return a(d+e).then((function(e){return e.text()}))}))).then((function(e){e.forEach((function(e,t){return c.set("/"+u[t],e)}))})).catch((function(){}))})().then((function(){return c}))},exports.createDefaultMapFromNodeModules=function(e,t,r){var i=f(),s=b(),n=s.readdirSync(r||i.dirname(require.resolve("typescript"))).filter((function(e){return e.startsWith("lib.")&&/\.d\.([^\.]+\.)?[cm]?ts$/i.test(e)})),l=new Map;return n.forEach((function(e){l.set("/"+e,function(e){var t=r||i.dirname(require.resolve("typescript"));return s.readFileSync(i.join(t,e),"utf8")}(e))})),l},exports.createFSBackedSystem=function(e,t,r,i){var s=t+"/vfs",n=f(),a=r.sys,c=null!=i?i:n.dirname(require.resolve("typescript"));return{name:"fs-vfs",root:s,args:[],createDirectory:function(){return l("createDirectory")},directoryExists:o("directoryExists",(function(t){return Array.from(e.keys()).some((function(e){return e.startsWith(t)}))||a.directoryExists(t)})),exit:a.exit,fileExists:o("fileExists",(function(t){if(e.has(t))return!0;if(t.includes("tsconfig.json")||t.includes("tsconfig.json"))return!1;if(t.startsWith("/lib")){var r=c+"/"+t.replace("/","");return a.fileExists(r)}return a.fileExists(t)})),getCurrentDirectory:function(){return s},getDirectories:a.getDirectories,getExecutingFilePath:function(){return l("getExecutingFilePath")},readDirectory:o("readDirectory",(function(){return"/"===(arguments.length<=0?void 0:arguments[0])?Array.from(e.keys()):a.readDirectory.apply(a,arguments)})),readFile:o("readFile",(function(t){if(e.has(t))return e.get(t);if(t.startsWith("/lib")){var r=c+"/"+t.replace("/",""),i=a.readFile(r);if(!i){var s=a.readDirectory(c);throw new Error("TSVFS: A request was made for "+r+" but there wasn't a file found in the file map. You likely have a mismatch in the compiler options for the CDN download vs the compiler program. Existing Libs: "+s+".")}return i}return a.readFile(t)})),resolvePath:function(t){return e.has(t)?t:a.resolvePath(t)},newLine:"\n",useCaseSensitiveFileNames:!0,write:function(){return l("write")},writeFile:function(t,r){e.set(t,r)},deleteFile:function(t){e.delete(t)},realpath:a.realpath}},exports.createSystem=function(e){return{args:[],createDirectory:function(){return l("createDirectory")},directoryExists:o("directoryExists",(function(t){return Array.from(e.keys()).some((function(e){return e.startsWith(t)}))})),exit:function(){return l("exit")},fileExists:o("fileExists",(function(t){return e.has(t)||e.has(c(t))})),getCurrentDirectory:function(){return"/"},getDirectories:function(){return[]},getExecutingFilePath:function(){return l("getExecutingFilePath")},readDirectory:o("readDirectory",(function(t){return"/"===t?Array.from(e.keys()):[]})),readFile:o("readFile",(function(t){var r;return null!=(r=e.get(t))?r:e.get(c(t))})),resolvePath:function(e){return e},newLine:"\n",useCaseSensitiveFileNames:!0,write:function(){return l("write")},writeFile:function(t,r){e.set(t,r)},deleteFile:function(t){e.delete(t)}}},exports.createVirtualCompilerHost=u,exports.createVirtualLanguageServiceHost=d,exports.createVirtualTypeScriptEnvironment=function(t,r,i,s,n){void 0===s&&(s={});var l=e({},a(i),s),o=d(t,r,l,i,n),c=o.updateFile,f=o.deleteFile,b=i.createLanguageService(o.languageServiceHost),p=b.getCompilerOptionsDiagnostics();if(p.length){var g=u(t,s,i);throw new Error(i.formatDiagnostics(p,g.compilerHost))}return{name:"vfs",sys:t,languageService:b,getSourceFile:function(e){var t;return null==(t=b.getProgram())?void 0:t.getSourceFile(e)},createFile:function(e,t){c(i.createSourceFile(e,t,l.target,!1))},updateFile:function(e,t,r){var s=b.getProgram().getSourceFile(e);if(!s)throw new Error("Did not find a source file for "+e);var n=s.text,l=null!=r?r:i.createTextSpan(0,n.length),o=n.slice(0,l.start)+t+n.slice(l.start+l.length),a=i.updateSourceFile(s,o,{span:l,newLength:t.length});c(a)},deleteFile:function(e){var t=b.getProgram().getSourceFile(e);t&&f(t)}}},exports.knownLibFilesForCompilerOptions=s;
//# sourceMappingURL=vfs.cjs.production.min.js.map
